@{
    ViewData["Title"] = "Файлы";
}

@section Stylesheets {
    <environment include="Development">
        <link rel="stylesheet" href="~/lib/jquery-ui/css/jquery-ui.css">
        <link rel="stylesheet" href="~/lib/octicons/octicons.css">
        <link rel="stylesheet" href="~/lib/jqGrid/css/ui.jqgrid-bootstrap4.css" />
        <link rel="stylesheet" href="~/css/jqgrid.css" asp-append-version="true">
    </environment>
    <environment exclude="Development">
        <link rel="stylesheet" href="~/lib/jquery-ui/css/jquery-ui.min.css">
        <link rel="stylesheet" href="~/lib/octicons/octicons.min.css" />
        <link rel="stylesheet" href="~/lib/jqGrid/css/ui.jqgrid-bootstrap4.min.css" />
        <link rel="stylesheet" href="~/css/jqgrid.min.css" asp-append-version="true">
    </environment>
}

@section Scripts {
    <environment include="Development">
        <script src="~/lib/jquery-ui/js/jquery-ui.js"></script>
        <script src="~/lib/jqGrid/js/i18n/grid.locale-en.js"></script>
        <script src="~/lib/jqGrid/js/jquery.jqGrid.js"></script>
        <script src="~/js/jqgrid-default-settings.js"></script>
    </environment>
    <environment exclude="Development">
        <script src="~/lib/jquery-ui/js/jquery-ui.min.js"></script>
        <script src="~/lib/jqGrid/js/i18n/grid.locale-en.js"></script>
        <script src="~/lib/jqGrid/js/jquery.jqGrid.min.js"></script>
        <script src="~/js/jqgrid-default-settings.min.js"></script>
    </environment>
}

@{
    const string filesManagementComponentlID = "uxFilesManagementComponent";
    const string imagesManagementComponentlID = "uxImagesManagementComponent";
}

@*render partial components*@
<h1 class="container text-center title">Файлы</h1>

@await Html.PartialAsync("~/Views/Administration/Partials/_FilesManagementPartial.cshtml", new IDViewModel() { ID = filesManagementComponentlID })

<h1 class="container text-center title">Изображения</h1>

@await Html.PartialAsync("~/Views/Administration/Partials/_ImagesManagementPartial.cshtml", new IDViewModel() { ID = imagesManagementComponentlID })

<script type="text/javascript" language="javascript">
    //create partial components objects
    $(document).ready(function () {
        uxFilesManagementComponent = new _FilesManagementPartial('#@(filesManagementComponentlID)', '@Url.Content("~/api/Administration/FilesApi")');
        uxImagesManagementComponent = new _ImagesManagementPartial('#@(imagesManagementComponentlID)', '@Url.Content("~/api/Administration/ImagesApi")');
    });
</script>